/**
 *     ▄▄▄▄▄▄▄▄▄▄▄  ▄       ▄  ▄▄▄▄▄▄▄▄▄▄▄  ▄▄        ▄                                  
 *    ▐░░░░░░░░░░░▌▐░▌     ▐░▌▐░░░░░░░░░░░▌▐░░▌      ▐░▌                                 
 *    ▐░█▀▀▀▀▀▀▀█░▌ ▐░▌   ▐░▌ ▐░█▀▀▀▀▀▀▀█░▌▐░▌░▌     ▐░▌                                 
 *    ▐░▌       ▐░▌  ▐░▌ ▐░▌  ▐░▌       ▐░▌▐░▌▐░▌    ▐░▌                                 
 *    ▐░█▄▄▄▄▄▄▄█░▌   ▐░▐░▌   ▐░▌       ▐░▌▐░▌ ▐░▌   ▐░▌                                 
 *    ▐░░░░░░░░░░░▌    ▐░▌    ▐░▌       ▐░▌▐░▌  ▐░▌  ▐░▌                                 
 *    ▐░█▀▀▀▀▀▀▀█░▌   ▐░▌░▌   ▐░▌       ▐░▌▐░▌   ▐░▌ ▐░▌                                 
 *    ▐░▌       ▐░▌  ▐░▌ ▐░▌  ▐░▌       ▐░▌▐░▌    ▐░▌▐░▌                                 
 *    ▐░▌       ▐░▌ ▐░▌   ▐░▌ ▐░█▄▄▄▄▄▄▄█░▌▐░▌     ▐░▐░▌                                 
 *    ▐░▌       ▐░▌▐░▌     ▐░▌▐░░░░░░░░░░░▌▐░▌      ▐░░▌                                 
 *     ▀         ▀  ▀       ▀  ▀▀▀▀▀▀▀▀▀▀▀  ▀        ▀▀                                  
 *          ▄▄▄▄▄▄▄▄▄▄▄  ▄▄▄▄▄▄▄▄▄▄▄  ▄         ▄  ▄▄▄▄▄▄▄▄▄▄▄  ▄▄▄▄▄▄▄▄▄▄▄  ▄▄▄▄▄▄▄▄▄▄▄ 
 *         ▐░░░░░░░░░░░▌▐░░░░░░░░░░░▌▐░▌       ▐░▌▐░░░░░░░░░░░▌▐░░░░░░░░░░░▌▐░░░░░░░░░░░▌
 *         ▐░█▀▀▀▀▀▀▀█░▌▐░█▀▀▀▀▀▀▀█░▌▐░▌       ▐░▌ ▀▀▀▀█░█▀▀▀▀ ▐░█▀▀▀▀▀▀▀▀▀ ▐░█▀▀▀▀▀▀▀█░▌
 *         ▐░▌       ▐░▌▐░▌       ▐░▌▐░▌       ▐░▌     ▐░▌     ▐░▌          ▐░▌       ▐░▌
 *         ▐░█▄▄▄▄▄▄▄█░▌▐░▌       ▐░▌▐░▌       ▐░▌     ▐░▌     ▐░█▄▄▄▄▄▄▄▄▄ ▐░█▄▄▄▄▄▄▄█░▌
 *         ▐░░░░░░░░░░░▌▐░▌       ▐░▌▐░▌       ▐░▌     ▐░▌     ▐░░░░░░░░░░░▌▐░░░░░░░░░░░▌
 *         ▐░█▀▀▀▀█░█▀▀ ▐░▌       ▐░▌▐░▌       ▐░▌     ▐░▌     ▐░█▀▀▀▀▀▀▀▀▀ ▐░█▀▀▀▀█░█▀▀ 
 *         ▐░▌     ▐░▌  ▐░▌       ▐░▌▐░▌       ▐░▌     ▐░▌     ▐░▌          ▐░▌     ▐░▌  
 *         ▐░▌      ▐░▌ ▐░█▄▄▄▄▄▄▄█░▌▐░█▄▄▄▄▄▄▄█░▌     ▐░▌     ▐░█▄▄▄▄▄▄▄▄▄ ▐░▌      ▐░▌ 
 *         ▐░▌       ▐░▌▐░░░░░░░░░░░▌▐░░░░░░░░░░░▌     ▐░▌     ▐░░░░░░░░░░░▌▐░▌       ▐░▌
 *          ▀         ▀  ▀▀▀▀▀▀▀▀▀▀▀  ▀▀▀▀▀▀▀▀▀▀▀       ▀       ▀▀▀▀▀▀▀▀▀▀▀  ▀         ▀ 
 *                                                                                                                                             
 * -------------------------------------------------------------------------------------------------------------------------------
 *  "An Axon is the long threadlike part of a nerve cell along which impulses are conducted from the cell body to other cells."
 *
 * @author 
 *      Cameron Van Orman
 *      <cameron@efelle.com>
 *      Slack @cameronv
 *
 * @reference
 * 		Introduction : http://daux.efellemedia.com/SOP/master/axon-router/introduction
 *		Base Javascript: http://daux.efellemedia.com/SOP/master/axon-router/base-js
 *      Code Standards: http://daux.efellemedia.com/SOP/master/code-standards/javascript
 *
 * @usage
 *      Store javascript functions under the FEATURES namespace to give your functions global scope.
 *      Pass your functions to the Site Router (router.js) under the relevant page name. 
 *		Page names are defined by a body class on your template (.emt) file.
 *
 *      NOTE: You must have a body class on the template you're targeting in order for your page specific scripts to run.
 *      i.e <body class='home'> if you're on the frontpage template.
 * 
 *      NOTE: In order for your javascript to run on a specific page you need to declare 
 *		the function in the FEATURES global namespace, then call the function in router.js 
 *		where you've setup your page specific body class.
 *
 *
 * FEATURES SETUP
 * -------------
 *
 *  NOTE: Your FEATURES variable is global scope.
 *  Javascript Global Scope: http://stackoverflow.com/a/500459 
 *  ie. FEATURES.yourFunctionName();
 * 
 *  NOTE: Our global variable, AKA namespace, "FEATURES" is all caps. 
 *  ALL global scoped variables should be written in all caps
 *  to signify hierarchy in the application,
 *
 *  Write your page specific functions here, then call the function for 
 *  the pages you need it on below.
 *
 * @usage
 *      var FEATURES = {
 *          yourFunctionName: function() {
 *           -- Write/paste your script here --
 *          },
 *      };
 */

var FUSION = {

	/**
	 * Main Menu Toggle (Mobile and Frontpage)
	 *
	 * Listens to click event and fire animation classes on click.
	 */
	navToggle: function(header) {
		var $header = $(header);
		var $navToggle = $('.nav-toggle');
		var $menuOverlay = $('.menu-overlay');
		var $menuOverlayItems = $('.menu-overlay > ul');
		var $body = $('body');
		$navToggle.on('click', function(event) {
			$body.toggleClass('overlay-on');
			$body.toggleClass('no-scroll');
			$navToggle.toggleClass('on');
			$menuOverlay.toggleClass('on');
			$menuOverlayItems.toggleClass('hidden');
			event.preventDefault();
		});

		$(document).keyup(function(e) {
			if (e.keyCode === 27 && $navToggle.hasClass('on')) {
				$body.toggleClass('overlay-on');
				$body.toggleClass('no-scroll');
				$navToggle.toggleClass('on');
				$menuOverlay.toggleClass('on');
				event.preventDefault();
			}
		});
	
	},

	weather: function() {
		$.simpleWeather({
			location: 'Seattle, WA',
			woeid: '',
			unit: 'f',
			success: function(weather) {
				html = '<ul><li><i class="icon-weather icon-' + weather.code + '"></i> ' + weather.temp + '&deg;' + weather.units.temp + '</li>';
				html += '<li> ' + '</li>';
				html += '<li><i class="btl bt-map-arrow"></i> ' + weather.city + ', ' + weather.region + '</li></ul>';

				$("#weather").html(html);
			},
			error: function(error) {
				$("#weather").html('<p>' + error + '</p>');
			}
		});
	},

	waypoints: function(section) {
		var $section = $(section);

		// $section.css('opacity', 0);
		var waypoint = new Waypoint({
			element: $section,
			handler: function(direction) {
				if(direction == "down") {
					$section.animateCss('fadeInLeft');
				}
			},
			offset: '50%'
		});
	},

	highlightJs: function() {
		hljs.initHighlighting();
	},

	/**
	 * Salvattore grid init
	 *
	 * @param {string} grid
	 */
	append: function(grid) {

		var salvGrid = document.querySelector(grid);
		var item = document.createElement('div');
		if (salvGrid) {
			salvattore.appendElements(salvGrid, [item]);
		}
	},

	/**
	 * Tooltip helper
	 */
	tooltip: function(target) {
		var $target = $(target);
		$(function () {
			$target.tooltip();
		})
	}

};